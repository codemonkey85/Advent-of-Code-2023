@page "/"

<PageTitle>
    @PageTitle
</PageTitle>

<MudSwitch T="@bool"
           Label="Include today's problems"
           Color="@Color.Primary"
           @bind-Checked:get="@IncludeTodaysProblems"
           @bind-Checked:set="@OnIncludeTodaysProblemsChanged" />

<MudText Typo="@Typo.h4">
    Number of problems: @NumberOfProblems
</MudText>

<MudButton Variant="@Variant.Filled"
           Color="@Color.Primary"
           OnClick="@GetSolutions"
           Disabled="@(NumberOfProblems == 0)">
    Get Solutions
</MudButton>

@if (Solutions is { Count: > 0 })
{
    <MudGrid Spacing="3"
             Justify="@Justify.FlexStart"
             Class="ma-1 pa-1">
        @foreach (var solution in Solutions)
        {
            <MudItem>
                @SolutionFragment(solution)
            </MudItem>
        }
    </MudGrid>
}

@code {
    private static RenderFragment SolutionFragment(Solution solution) =>
    @<MudCard>
        <MudCardHeader>
            <MudText Typo="@Typo.h6">
                Day @solution.Day
            </MudText>
        </MudCardHeader>
        <MudCardContent>
            <MudStack>
                <MudText Typo="@Typo.body1">
                    Solution to Part One: @solution.Part1
                </MudText>
                <MudText Typo="@Typo.body1">
                    Solution to Part Two: @solution.Part2
                </MudText>
            </MudStack>
        </MudCardContent>
    </MudCard>;
}
